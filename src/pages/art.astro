---
import BaseHead from '../components/BaseHead.astro';
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';
import { SITE_TITLE } from '../consts';
import { getCollection } from 'astro:content';

const artworks = await getCollection('art');
const sortedArtworks = artworks.sort((a, b) => b.data.date.valueOf() - a.data.date.valueOf());
---

<!doctype html>
<html lang="en">
	<head>
		<BaseHead title={`Art - ${SITE_TITLE}`} description="Art portfolio by Birol Senturk" />
	</head>
	<body>
		<Header />
		<main>
			<section class="page-header">
				<div class="container">
					<span class="section-label">Creative Work</span>
					<h1>Art</h1>
					<p class="page-intro">A showcase of creative explorations and artistic expressions.</p>
				</div>
			</section>

			<section class="gallery">
				<div class="container">
					{sortedArtworks.length === 0 ? (
						<div class="empty-state">
							<div class="empty-icon">
								<svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
									<path d="M12 2L2 7l10 5 10-5-10-5z"/>
									<path d="M2 17l10 5 10-5"/>
									<path d="M2 12l10 5 10-5"/>
								</svg>
							</div>
							<p>New artworks coming soon.</p>
							<a href="/" class="btn btn--outline">Back to Home</a>
						</div>
					) : (
						<div class="art-grid">
							{sortedArtworks.map((artwork) => (
								<article class="art-item">
									<div class="art-image">
										<img
											src={artwork.data.imageUrl}
											alt={artwork.data.imageAlt}
											loading="lazy"
										/>
									</div>
									<div class="art-info">
										<h3>{artwork.data.title}</h3>
										<p class="description">{artwork.data.description}</p>
										<div class="art-meta">
											{artwork.data.medium && <span>{artwork.data.medium}</span>}
											{artwork.data.dimensions && <span>{artwork.data.dimensions}</span>}
											<span>{artwork.data.date.toLocaleDateString('en-us', { year: 'numeric', month: 'short' })}</span>
										</div>
										{artwork.data.tags && (
											<div class="tags">
												{artwork.data.tags.map((tag) => (
													<span class="tag">{tag}</span>
												))}
											</div>
										)}
									</div>
								</article>
							))}
						</div>
					)}
				</div>
			</section>
		</main>
		<Footer />
	</body>
</html>

<style>
	.page-header {
		padding: var(--space-xl) 0 var(--space-lg);
		border-bottom: none;
	}

	.page-intro {
		font-size: 1.125rem;
		color: var(--text-muted);
		max-width: 500px;
		margin: 0;
	}

	.gallery {
		padding-top: 0;
	}

	.empty-state {
		text-align: center;
		padding: var(--space-xl) 0;
	}

	.empty-icon {
		color: var(--gray-300);
		margin-bottom: var(--space-md);
	}

	.empty-state p {
		color: var(--text-muted);
		font-size: 1.125rem;
		margin-bottom: var(--space-md);
	}

	.art-grid {
		display: grid;
		grid-template-columns: repeat(2, 1fr);
		gap: var(--space-md);
	}

	.art-item {
		background: var(--cream-dark);
		transition: transform 0.3s ease;
	}

	.art-item:hover {
		transform: translateY(-4px);
	}

	.art-image {
		overflow: hidden;
	}

	.art-image img {
		width: 100%;
		height: 320px;
		object-fit: cover;
		display: block;
		transition: transform 0.4s ease;
	}

	.art-item:hover .art-image img {
		transform: scale(1.03);
	}

	.art-info {
		padding: var(--space-md);
	}

	.art-info h3 {
		margin: 0 0 0.5rem 0;
		font-size: 1.125rem;
		color: var(--ink);
	}

	.description {
		margin: 0 0 var(--space-sm) 0;
		color: var(--text-muted);
		font-size: 0.9375rem;
	}

	.art-meta {
		display: flex;
		flex-wrap: wrap;
		gap: var(--space-sm);
		margin-bottom: var(--space-sm);
	}

	.art-meta span {
		font-size: 0.75rem;
		color: var(--gray-500);
		font-family: var(--font-display);
		letter-spacing: 0.02em;
	}

	.art-meta span:not(:last-child)::after {
		content: '/';
		margin-left: var(--space-sm);
		color: var(--gray-300);
	}

	.tags {
		display: flex;
		flex-wrap: wrap;
		gap: 0.5rem;
	}

	.tag {
		font-family: var(--font-display);
		font-size: 0.6875rem;
		font-weight: 600;
		letter-spacing: 0.08em;
		text-transform: uppercase;
		color: var(--accent);
		padding: 0.25rem 0.5rem;
		background: rgba(217, 93, 57, 0.1);
	}

	@media (max-width: 768px) {
		.art-grid {
			grid-template-columns: 1fr;
		}

		.art-image img {
			height: 280px;
		}
	}
</style>
